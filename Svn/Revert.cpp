///////////////////////////////////////////////////////////////////////////////
// Application : MoleSVN
// Package     : Svn
// File        : Revert.cpp
// Description : implements the Revert command class
// Author      : cedric.bresson@artcoder.com
#include "Revert.h"
#include "../UI/ResultsWindow.h"


using namespace std;

///////////////////////////////////////////////////////////////////////////////
// -- Life-cycle
///////////////////////////////////////////////////////////////////////////////
Revert::Revert()
:SvnCommand("Revert", MSG_REVERT, R_Revert)
{
	TRACE_METHOD ((CC_APPLICATION, REPORT_METHOD));
}

Revert::~Revert()
{
	TRACE_METHOD ((CC_APPLICATION, REPORT_METHOD));
}


///////////////////////////////////////////////////////////////////////////////
// -- Services
///////////////////////////////////////////////////////////////////////////////
void Revert::Execute()
{
	TRACE_METHOD ((CC_APPLICATION, REPORT_METHOD));
	
	m_pTarget = new ResultsWindow(GetName());
	
	ExecuteSvn(string("svn revert --recursive " + MoleSvnAddon::GetInstance()->GetEntryNameList()));	
}


///////////////////////////////////////////////////////////////////////////////
// -- Accessors
///////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////
// -- Private
///////////////////////////////////////////////////////////////////////////////
